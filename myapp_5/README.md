# Урок 5. Работа с административной панелью

## Теория

### Административная панель

Административная панель в Django — это готовый
интерфейс, который позволяет управлять данными
вашего приложения. Она предоставляет
возможность создавать, редактировать и удалять
записи в базе данных, а также осуществлять
множество других действий, связанных с
управлением приложением.

### Настройка административной панели

#### Первоначальные настройки “админки”

Адрес по которому мы можем зайти в админ панель был настроен
при создании проекта. Проверьте urls.py проекта
Фреймворк Django
from django.contrib import admin
...
urlpatterns = [
path('admin/', admin.site.urls),
...
]
LANGUAGE_CODE = 'ru-ru'

#### Стандартная админка

Раздел “Пользователи и группы” доступен по умолчанию. Администратор сайта может делать всю цепочку
CRUD: создавать, просматривать, изменять и удалять с группами и пользователями.

##### Пользователи

● Добавить пользователя
● Просмотр и редактирование
пользователя
● Удаление пользователя

##### Группы

● Добавить группу
● Просмотр и редактирование
группы
● Удаление группы

#### Добавление пользовательских моделей в административную панель

##### Создание моделей

Любые модели, которые мы хотим подключить к административной панели
создаются в models.py. Далее создаются и применяются миграции:
python manage.py makemigrations
python manage.py migrate

from django.db import models
class Category(models.Model):
name = models.CharField(max_length=50, unique=True)
...

##### Подключение моделей к административной панели

Открываем файл admin.py приложения. Его создал Django в процессе выполнения
команды startapp. Файлы admin.py всех приложений объединяются в одной “админке”
from django.contrib import admin
from .models import Category
...
admin.site.register(Category)
...

#### Персонализация моделей в административной панели

##### Добавляем новые поля

прописываем параметр default
для существующих записей

##### Создаём миграции

1) задаём значения по умолчанию
   полям без default для
   существующих записей
2) Возвращаемся к изменению
   полей модели

##### Применяем миграции

python manage.py migrate
Изменение модели

##### Настройка списка изменения

Рассмотрим основные возможности админки в рамках списка значений.
Что и как можно изменить под себя?
Отображение дополнительных полей — list_display
Сортировка строк — ordering
Добавление фильтрации — list_filter
Текстовый поиск — search_fields, search_help_text
Добавление новых действий — @admin.action, actions

#### Настройка изменения отдельной записи

Рассмотрим основные возможности админки в рамках изменения отдельной
записи. Что и как можно изменить под себя?
Отображение полей — fields
Отображение полей только для чтения — readonly_fields
Детальная настройка отображения полей — fieldsets